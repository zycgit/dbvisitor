---
id: query
sidebar_position: 2
hide_table_of_contents: true
title: "@Query"
description: The Query annotation marks interface methods and accepts a string or string array that represents a result-producing query.
---
:::tip[Hint]
This article is generated by AI translation.
:::

import TagRed from '@site/src/components/tags/TagRed';
import TagGray from '@site/src/components/tags/TagGray';

# @Query Annotation

Marks an interface method and accepts a string or string array that represents a result-producing query.

:::info
If you pass a string array, the elements are concatenated with a single space between them.<br/>
This makes it easy to manage SQL in a readable way.
:::

```java title='Example: query a user list'
@SimpleMapper
public interface UserMapper {
    @Query("select * from users where id > #{id}")    // 1. SQL definition
    List<User> listUsers(@Param("id") long searchId); // 2. id argument, User return type
}
```

## Pagination {#page}

Add a `Page` argument anywhere in the method signature to enable pagination.

```java title='Use Page to paginate'
@SimpleMapper
public interface UserMapper {
    @Query("select * from users where id > #{id}")
    List<User> listUsers(@Param("id") long searchId, Page page);
}
```

```java title='Use PageResult to capture paging metadata'
@SimpleMapper
public interface UserMapper {
    @Query("select * from users where id > #{id}")
    PageResult<User> listUsers(@Param("id") long searchId, Page page);
}
```

- `PageResult` includes the original paging request, total count, and total pages.

## Properties

| Property            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| value                | <TagRed/> SQL to execute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| statementType        | <TagGray/> Determines which JDBC statement type to use. Default is `PREPARED`.<br/>- `STATEMENT` → `java.sql.Statement`<br/>- `PREPARED` → `java.sql.PreparedStatement`<br/>- `CALLABLE` → `java.sql.CallableStatement`                                                                                                                                                                                                                                                                                                                |
| timeout              | <TagGray/> If set to a value greater than `0`, the value is applied to `java.sql.Statement.setQueryTimeout(int)` to enforce a timeout in seconds. Default is `-1`.                                                                                                                                                                                                                                                                                                                                                                  |
| fetchSize            | <TagGray/> If set to a value greater than `0`, the value is applied to `java.sql.Statement.setFetchSize(int)` as a hint to the JDBC driver. Default is `256`.                                                                                                                                                                                                                                                                                                                                                                       |
| resultSetType        | <TagGray/> Controls the `resultSetType` argument when the statement is created.<br/>Options: `FORWARD_ONLY`, `SCROLL_INSENSITIVE`, `SCROLL_SENSITIVE`, `DEFAULT` (no override).<br/>- For `STATEMENT`, maps to `Connection.createStatement(int, int)` argument 1.<br/>- For `PREPARED`, maps to `Connection.prepareStatement(String, int, int)` argument 2.<br/>- For `CALLABLE`, maps to `Connection.prepareCall(String, int, int)` argument 2. |
| resultSetExtractor   | <TagGray/> Optionally configure a [ResultSetExtractor](../../result/for_extractor) for result processing. Ignored if `bindOut` is set.                                                                                                                                                                                                                                                                                                                                                      |
| resultRowCallback    | <TagGray/> Optionally configure a [RowCallbackHandler](../../result/row_callback) for per-row processing. Ignored if `bindOut` is set.                                                                                                                                                                                                                                                                                                                                                      |
| resultRowMapper      | <TagGray/> Optionally configure a [RowMapper](../../result/row_callback). Ignored if `bindOut` is set.                                                                                                                                                                                                                                                                                                                                                                                     |
| resultTypeHandler    | <TagGray/> Optionally configure a [TypeHandler](../../types/about). Ignored if `bindOut` is set.                                                                                                                                                                                                                                                                                                                                                                                            |
| bindOut              | <TagGray/> When using [Multiple Results](../jdbc/multi) or [Stored Procedure](../jdbc/procedure), `bindOut` lets you bind output arguments. Once configured, the method return type must be **Map&lt;String,Object&gt;**.                                                                                                                                                                                                                                                                                                            |
