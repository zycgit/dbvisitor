---
id: redis_type
sidebar_position: 5
hide_table_of_contents: true
title: Redis Data Types
description: Use dbVisitor to read/write Redis String values.
---
:::tip[Hint]
This article is generated by AI translation.
:::

Redis has five primary data types. This guide shows how to read and write each of them with dbVisitor.

:::tip[Tip]
Command references for major Redis types: [String](../../drivers/redis/commands#string), [Hash](../../drivers/redis/commands#hash), [List](../../drivers/redis/commands#list), [Set](../../drivers/redis/commands#set), [StoreSet](../../drivers/redis/commands#storeset)
:::

## String {#string}

```java title="Read/write a string with GET/SET"
jdbc.executeUpdate("SET ? ?", new Object[] { "myKey", "myValue" });
String value = jdbc.queryForString("GET ?", "myKey");
```

```java title="Set a value with TTL"
jdbc.executeUpdate("SETEX ? ? ?", new Object[] { "myKey", 60, "myValue" });
jdbc.executeUpdate("SET ? ? EX ?", new Object[] { "myKey", "myValue", 60 });
```
- Reference: [SET command](https://redis.io/docs/latest/commands/set/)

```java title="Increment/decrement a number"
jdbc.executeUpdate("SET myKey 0");                      // initial value 0
String result = jdbc.queryForString("INCR ?", "myKey"); // incremented to 1
String result = jdbc.queryForString("DECR ?", "myKey"); // decremented to 0
```
- Reference: [INCR command](https://redis.io/docs/latest/commands/incr/), [DECR command](https://redis.io/docs/latest/commands/decr/)

```java title="Append/substring operations"
jdbc.executeUpdate("SET myKey myValue");                                              // initial value myValue
String result = jdbc.queryForString("APPEND ? ?", new Object[] { "myKey", "123" });   // becomes myValue123
String result = jdbc.queryForString("GETRANGE ? ? ?", new Object[] { "myKey", 0, 5 }); // becomes myVal
```
- Reference: [APPEND command](https://redis.io/docs/latest/commands/append/), [GETRANGE command](https://redis.io/docs/latest/commands/getrange/)

```java title="Read/write an object via JSON serialization"
// Type MyObject must be annotated with @BindTypeHandler(JsonTypeHandler.class)
jdbc.queryForObject("GET myObjectKey", MyObject.class);
jdbc.executeUpdate("SET myObjectKey ?", (MyObject) myObject);
```
- Reference: [GET command](https://redis.io/docs/latest/commands/get/), [SET command](https://redis.io/docs/latest/commands/set/)

## Hash {#hash}

```java title="Read/write hash fields with HSET/HGET"
jdbc.executeUpdate("HSET myHashKey field1 value1");
jdbc.queryForString("HGET ? ?", new Object[] { "myHashKey", "field1" });
```
- Reference: [HSET command](https://redis.io/docs/latest/commands/hset/), [HGET command](https://redis.io/docs/latest/commands/hget/)

```java title="Read all field names with HKEYS"
List<String> keys = jdbc.queryForList("HKEYS myHashKey", String.class);
```
- Reference: [HKEYS command](https://redis.io/docs/latest/commands/hkeys/)

```java title="Read all fields and values with HGETALL"
Map<String, String> hashFields = jdbc.queryForPairs("HGETALL myHashKey", String.class, String.class);
```
- Reference: [HGETALL command](https://redis.io/docs/latest/commands/hgetall/)

```java title="Persist a Map into a hash via @{pairs} rule"
Map<String,String> hashData = new HashMap<>();
hashData.put("field1", "value1");
hashData.put("field2", "value2");
jdbc.executeUpdate("HSET myKey1 @{pairs, :arg0, :k :v}", SqlArg.valueOf(hashData));
```
- Reference: [HSET command](https://redis.io/docs/latest/commands/hset/), [PAIRS rule](../../rules/args_rule#pairs)

## List {#list}

```java title="Read/write list elements"
jdbc.executeUpdate("LPUSH myListKey value1 value2 value3");
String result = jdbc.queryForString("LPOP myListKey"); // value3
String result = jdbc.queryForString("RPOP myListKey"); // value1
```
- Reference: [LPUSH command](https://redis.io/docs/latest/commands/lpush/), [LPOP command](https://redis.io/docs/latest/commands/lpop/), [RPOP command](https://redis.io/docs/latest/commands/rpop/)

```java title="Message queue via LPUSH/BLPOP"
// Left-in/right-out blocking queue
jdbc.executeUpdate("LPUSH myListKey value1");
String result = jdbc.queryForString("BRPOP myListKey"); // BRPOP is blocking; RPOP is non-blocking
// Right-in/left-out blocking queue
jdbc.executeUpdate("RPUSH myListKey value1");
String result = jdbc.queryForString("BLPOP myListKey"); // BLPOP is blocking; LPOP is non-blocking
```
- Reference 1: [LPUSH command](https://redis.io/docs/latest/commands/lpush/), [BRPOP command](https://redis.io/docs/latest/commands/brpop/), [RPOP command](https://redis.io/docs/latest/commands/rpop/)
- Reference 2: [RPUSH command](https://redis.io/docs/latest/commands/rpush/), [BLPOP command](https://redis.io/docs/latest/commands/blpop/), [LPOP command](https://redis.io/docs/latest/commands/lpop/)

```java title="Persist a List into a list via @{pairs} rule"
List<String> listData = new ArrayList<>();
listData.add("value1");
listData.add("value2");
jdbc.executeUpdate("LPUSH myListKey @{pairs, :arg0, :v}", SqlArg.valueOf(listData));
```
- Reference: [LPUSH command](https://redis.io/docs/latest/commands/lpush/), [PAIRS rule](../../rules/args_rule#pairs)

## Set {#set}

```java title="Read/write set elements with SADD/SMEMBERS"
jdbc.executeUpdate("SADD mySetKey value1 value2 value3");
jdbc.queryForList("SMEMBERS mySetKey", String.class);
```
- Reference: [SADD command](https://redis.io/docs/latest/commands/sadd/), [SMEMBERS command](https://redis.io/docs/latest/commands/smembers/)

```java title="Use set key uniqueness for tagging"
jdbc.executeUpdate("SADD article_1 tag1 tag2");
jdbc.executeUpdate("SADD article_1 tag1 tag3");
jdbc.queryForList("SMEMBERS article_1", String.class); // result: [tag1, tag2, tag3]
```
- Reference: [SADD command](https://redis.io/docs/latest/commands/sadd/), [SMEMBERS command](https://redis.io/docs/latest/commands/smembers/)

```java title="Persist Map keys into a set via @{pairs} rule"
Map<String,String> hashData = new HashMap<>();
hashData.put("field1", "value1");
hashData.put("field2", "value2");
jdbc.executeUpdate("SADD myKey1 @{pairs, :arg0, :k}", SqlArg.valueOf(hashData));
jdbc.queryForList("SMEMBERS myKey1", String.class); // result: [field1, field2]
```
- Reference: [SADD command](https://redis.io/docs/latest/commands/sadd/), [PAIRS rule](../../rules/args_rule#pairs)

## Sorted Set {#sorted_set}

Sorted Set is similar to Set but every element has a score used for ordering.

```java title="Read/write sorted set elements with ZADD/ZRANGEBYSCORE"
jdbc.execute("ZADD mySetKey 3 value3 2 value2 1 value1");
jdbc.queryForList("ZRANGEBYSCORE mySetKey -inf +inf ", String.class); // result: [value1, value2, value3]
```
- Reference: [SADD command](https://redis.io/docs/latest/commands/sadd/), [SMEMBERS command](https://redis.io/docs/latest/commands/smembers/)

```java title="Store elements with scores from a Map"
Map<String,Double> hashData = new HashMap<>();
hashData.put("field1", 3.0);
hashData.put("field2", 2.0);
hashData.put("field3", 1.0);
jdbc.executeUpdate("ZADD myKey1 @{pairs, :arg0, :v :k}", SqlArg.valueOf(hashData));
jdbc.queryForList("ZRANGEBYSCORE myKey1 -inf +inf ", String.class); // result: [field3, field2, field1]
```
- Reference: [SADD command](https://redis.io/docs/latest/commands/sadd/), [PAIRS rule](../../rules/args_rule#pairs)

```java title="Store scored data using tuples and the @{pairs} rule"
List<Tuple> data = new ArrayList<>();
data.add(Tuple.of("field1", 3.0));
data.add(Tuple.of("field2", 2.0));
data.add(Tuple.of("field3", 1.0));
jdbc.queryForString("ZADD myKey1 @{pairs, :arg0, :v.arg1 :v.arg0 }", SqlArg.valueOf(data));
jdbc.queryForList("ZRANGEBYSCORE myKey1 -inf +inf ", String.class); // result: [field3, field2, field1]
```
- Reference: [SADD command](https://redis.io/docs/latest/commands/sadd/), [PAIRS rule](../../rules/args_rule#pairs)
- Besides tuples, you can also use Map or custom types to store elements and scores.
  - `:v.arg1` uses [named arguments](../../args/named) to pass values.
