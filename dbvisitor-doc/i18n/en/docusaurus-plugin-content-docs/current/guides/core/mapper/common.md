---
id: common
sidebar_position: 2
hide_table_of_contents: true
title: General Mapper
description: The generic BaseMapper interface provides a set of common database operation methods to complete basic CRUD operations on the database utilizing object mapping information.
---
:::tip[Hint]
This article is generated by AI translation.
:::

# Common Operations
The generic `BaseMapper` interface provides a set of common database operation methods utilizing object mapping information to complete basic CRUD operations on the database.

:::tip[Tip]
How to obtain a Session depends on your project architecture. See **[Framework Integration](../../yourproject/buildtools#integration)** for details.
:::

## Add, Delete, Update

```java title='Insert'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.insert(user);
```

```java title='Batch Insert'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.insert(Arrays.asList(user1, user2));
```

```java title='Partial Update'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.update(user); // Based on primary key, update non-null data in user object
```

```java title='Replace Update'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.replace(user); // Based on primary key, replace the entire row of user table
```

```java title='Insert or Replace Update'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.upsert(user); // Based on the primary key in the user object, use insert if it does not exist in the database, otherwise update
```

```java title='Delete Object'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.delete(user); // Delete based on primary key in user object
```

```java title='Delete by ID'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.deleteById(userId);
```

```java title='Delete a batch of objects by ID'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.deleteByIds(Arrays.asList(userId1, userId2));
```

## Query {#query}

```java title='Query Object by ID'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
User user = mapper.selectById(userId);
```

```java title='Query a group of objects by ID'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
List<User> users = mapper.selectByIds(Arrays.asList(userId1, userId2));
```

```java title='Query list by sample'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
List<User> users = mapper.listBySample(sampleUser);
```

## Pagination {#page}

- `PageResult` pagination results will also contain **Original Pagination Info**, **Total Records**, **Total Pages**.

```java title='Pagination Query'
User sample = ...
Page pageInfo = PageObject.of(0, 20);   // Page 0, 20 items per page, page number starts from 0
//or pageInfo = PageObject.of(1, 20, 1);// Page 1, 20 items per page, page number starts from 1
BaseMapper<User> mapper = session.createBaseMapper(User.class);
PageResult<User> result = mapper.pageBySample(sample, pageInfo);
```

```java title='Pagination Query with Sorting Strategy'
User sample = ...
Page pageInfo = PageObject.of(0, 20);   // Page 0, 20 items per page, page number starts from 0
//or pageInfo = PageObject.of(1, 20, 1);// Page 1, 20 items per page, page number starts from 1
Map<String, OrderType> orderBy = new HashMap<>();
orderBy.put("id", OrderType.DESC);
orderBy.put("name", OrderType.ASC);

BaseMapper<User> mapper = session.createBaseMapper(User.class);
PageResult<User> result = mapper.pageBySample(sample, pageInfo, orderBy);
```

```java title='Specify Null Value Sorting Strategy when Sorting'
User sample = ...
Page pageInfo = PageObject.of(0, 20);   // Page 0, 20 items per page, page number starts from 0
//or pageInfo = PageObject.of(1, 20, 1);// Page 1, 20 items per page, page number starts from 1

Map<String, OrderType> orderBy = new HashMap<>();
orderBy.put("id", OrderType.DESC);
orderBy.put("name", OrderType.ASC);

Map<String, OrderNullsStrategy> nulls = new HashMap<>();
nulls.put("name", OrderNullsStrategy.FIRST);

BaseMapper<User> mapper = session.createBaseMapper(User.class);
PageResult<User> result = mapper.pageBySample(sample, pageInfo, orderBy, nulls);
```
