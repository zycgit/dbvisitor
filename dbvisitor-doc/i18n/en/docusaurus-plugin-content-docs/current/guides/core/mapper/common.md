---
id: common
sidebar_position: 2
hide_table_of_contents: true
title: BaseMapper
description: The BaseMapper interface provides common CRUD operations using entity mapping metadata.
---
:::tip[Hint]
This article is generated by AI translation.
:::

# Base Mapper
The BaseMapper offers common CRUD operations using entity mapping metadata.

## Insert, Delete, Update

```java title='Insert'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.insert(user);
```

```java title='Batch'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.insert(Arrays.asList(user1, user2));
```

```java title='Update'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.update(user); // Update non-null fields by primary key
```

```java title='Replace'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.replace(user); // Replace the full row by primary key
```

```java title='Upsert'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.upsert(user); // Insert when PK is absent, otherwise update
```

```java title='Delete'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.delete(user); // Delete by primary key in the entity
```

```java title='Delete by ID'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.deleteById(userId);
```

```java title='Delete multiple by IDs'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
int res = mapper.deleteByIds(Arrays.asList(userId1, userId2));
```

## Query {#query}

```java title='Find by ID'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
User user = mapper.selectById(userId);
```

```java title='Find by IDs'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
List<User> users = mapper.selectById(Arrays.asList(userId1, userId2));
```

```java title='List by sample'
BaseMapper<User> mapper = session.createBaseMapper(User.class);
List<User> users = mapper.listBySample(sampleUser);
```

## Paging {#page}

- PageResult also includes the original page info, total count, and total pages.

```java title='Paged query'
User sample = ...
Page pageInfo = PageObject.of(0, 20);   // Page 0, size 20; index starts at 0
//or pageInfo = PageObject.of(1, 20, 1);// Page 1, size 20; index starts at 1
BaseMapper<User> mapper = session.createBaseMapper(User.class);
PageResult<User> result = mapper.pageBySample(sample, pageInfo);
```

```java title='Paged query with sorting'
User sample = ...
Page pageInfo = PageObject.of(0, 20);   // Page 0, size 20; index starts at 0
//or pageInfo = PageObject.of(1, 20, 1);// Page 1, size 20; index starts at 1
Map<String, OrderType> orderBy = new HashMap<>();
orderBy.put("id", OrderType.DESC);
orderBy.put("name", OrderType.ASC);

BaseMapper<User> mapper = session.createBaseMapper(User.class);
PageResult<User> result = mapper.pageBySample(sample, pageInfo, orderBy);
```

```java title='Paged query with null ordering'
User sample = ...
Page pageInfo = PageObject.of(0, 20);   // Page 0, size 20; index starts at 0
//or pageInfo = PageObject.of(1, 20, 1);// Page 1, size 20; index starts at 1

Map<String, OrderType> orderBy = new HashMap<>();
orderBy.put("id", OrderType.DESC);
orderBy.put("name", OrderType.ASC);

Map<String, OrderNullsStrategy> nulls = new HashMap<>();
nulls.put("name", OrderNullsStrategy.FIRST);

BaseMapper<User> mapper = session.createBaseMapper(User.class);
PageResult<User> result = mapper.pageBySample(sample, pageInfo, orderBy, nulls);
```
