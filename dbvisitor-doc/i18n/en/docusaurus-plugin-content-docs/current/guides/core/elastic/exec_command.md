---
id: exec_command
sidebar_position: 2
hide_table_of_contents: true
title: Execute Commands
description: Use JdbcTemplate to execute raw ElasticSearch commands for reading and writing data.
---
:::tip[Hint]
This article is generated by AI translation.
:::

Use JdbcTemplate to directly execute ElasticSearch commands for reading and writing data. Before this, please ensure that the ElasticSearch data source is correctly configured. For details, please refer to [ElasticSearch Driver Guide](../../drivers/elastic/usecase).

:::tip[Note]
See [JdbcTemplate](../jdbc/about#guide) for more patterns. The driver does not support:
- Batching
- Stored procedures
:::

## JdbcTemplate Interface

Define JdbcTemplate, passing the created DataSource or Connection as a parameter.

```java title='Create JdbcTemplate'
// 2. Create Session
JdbcTemplate jdbc = new JdbcTemplate(dataSource);
// or
JdbcTemplate jdbc = new JdbcTemplate(connection);
```

## Insert Data

```java title='Insert Data'
// Direct command style
jdbc.execute("POST /my_index/_doc/1 { \"name\": \"mali\", \"age\": 26 }");
// Parameterized command style
jdbc.execute("POST /my_index/_doc/1 { \"name\": ?, \"age\": ? }", new Object[] { "mali", 26 });
```

## Query Data

```java title='Query List'
// Query all
List<Map<String, Object>> list = jdbc.queryForList("POST /my_index/_search { \"query\": { \"match_all\": {} } }");
```

```java title='Conditional Query'
// Query specific condition
Map<String, Object> mali = jdbc.queryForMap("POST /my_index/_search { \"query\": { \"term\": { \"name\": \"mali\" } } }");
String json = (String) mali.get("_DOC");
```

## Update Data

```java title='Update Data'
// Update age
jdbc.execute("test.user_info.update({name: 'mali'}, {$set: {age: 27}})");
```

## Delete Data

```java title='Delete Data'
// Delete specific record
jdbc.execute("test.user_info.remove({name: 'mali'})");
```
