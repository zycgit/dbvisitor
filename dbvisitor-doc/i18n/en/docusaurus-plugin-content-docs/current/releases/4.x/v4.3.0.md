---
id: v4.3.0
sidebar_position: 984
title: v4.3.0 (2021-12-18)
---

# v4.3.0 (2021-12-18)

```xml
<dependency>
    <groupId>net.hasor</groupId>
    <artifactId>dbvisitor</artifactId>
    <version>4.3.0</version>
</dependency>
```

## Added
- Aliyun ADB for MySQL dedicated metadata query service and data model.
- MySQL dedicated metadata query service and data model.
- In `SqlDialect`, `db-keywords` now forces quoting when a column name matches a keyword.
- Added keywords for DM, MySQL, Oracle, and PostgreSQL.
- Mapper XML DTD and Schema validation files.
- `and` and `or` rules.
- `<selectKey>` tag and its extension mechanism.
- Recognize the `kylin` database.
- `insert xxx from select` now supports insert strategies.
- `printStmtError` property to control whether SQL errors must be printed.
- `Uuid36Rule` rule.
- `@Callable` and `@Query` annotations add a `resultType` attribute.

## Improved
- `resultMap` and `entityMap` share the same code path; `entityMap` requires the `table` attribute and is globally effective.
- Stored procedures now follow MyBatis3 behavior: `out` parameters are returned via input parameters, so `@Callable` and `<callable>` are no longer needed.
- All mappers implement the `Mapper` marker interface.
- Refactored `LambdaTemplate` to provide entity-based single-table CRUD capabilities.
- Removed dependencies on metadata-based queries and related packages.
- Replaced `hasor-commons` with `cobble` and dropped the `slf4j` dependency.
- Removed the `hasor-core` dependency and its plugin configuration.
- Simplified `SqlDialect`, reduced coupling, removed `HerdDBDialect`.
- Split `SqlDialect` into `ConditionSqlDialect` and `PageSqlDialect`.
- Mapping now uses `@Property` and `@Table` annotations with optional XML configuration.
- Removed `getTableMapping` from `TableReader`.
- Improved Mapper XML compatibility with MyBatis3.
- Improved MyBatis3 DTD compatibility.
- `<trim>` is no longer case sensitive.
- `<bind>` no longer provides the `overwrite` attribute.
- Added MySQL `year` type compatibility tests.
- Refactored dal package features for clarity.
- Extracted stored procedure handling in `JdbcTemplate` to `SimpleCallableStatementCallback`.
- Upgraded Antlr4 to 4.9.2.
- Optimized `RuleRegistry`, `TypeHandlerRegistry`, and `MapperRegistry`.
- Moved built-in jar directory to `net.hasor.db.jars`.
- Moved the `page` package out of `lambda` to the top level.
- `@MappedJdbcTypes` now uses `Integer` for JDBC type parameters.
- Renamed `commitLast` to `commit` for clarity.
- Renamed `TransactionManager.getTransaction` to `begin`.

## Fixed
- `resultMap` registration no longer overwrites `space`.
- `AbstractRowMapper` now special-cases Oracle when locating a `TypeHandler`.
- Handles `@Table` when both `name` and `value` are empty.
- Merged `DataSourceManager` and `TranManager`, and fixed isolation-level configuration bugs.
