## 介绍

jdbc-redis 是一个 Redis 的 JDBC 驱动适配器，它允许开发者使用标准的 JDBC 接口和命令的方式来操作 Redis 数据。
目的是通过熟悉 JDBC 编程模型，使开发者能够无缝地使用 Redis。

## 特性：

- 支持 140+ 常用命令，涵盖 DB、Server、Keys、List、Set、StoreSet、String、Hash 命令集。
- 支持 JDBC 标准接口，包括 Connection、Statement、PreparedStatement、ResultSet 等。
- 支持 命令参数占位符 “?”，并使用 PreparedStatement 设置参数。
- 支持 多命令执行并通过 JDBC 标准方法获取多命令执行结果。
- 支持 Statement 的 maxRows、fetchSize、timeoutSec 属性设置。
- 支持 指令拦截器，可用于日志记录、性能监控等场景。
- 支持 类型转换，例如 结果集返回为 LONG 类型时，可通过 ResultSet.getInt 或 ResultSet.getString 获取数据。
- 支持 BLOB、CLOB、NCLOB 方式读取。

## 技术实现

### 架构设计

jdbc-redis 项目采用了适配器模式，将标准的 JDBC 接口适配到 Redis 命令体系。主要组件包括：
- JedisConn：实现了 JDBC Connection 接口，是整个适配器的核心，负责连接管理和命令执行。
- JedisCmd：封装了 Jedis 客户端的各种命令接口，支持单实例和集群模式。
- JedisRequest：表示一个 Redis 命令请求。
- ANTLR4 解析器：用于解析 Redis 命令，生成 Redis 命令执行计划。

### 命令执行流程

- 用户通过 JDBC API 创建 Connection、Statement 并执行 Redis 命令。
- JedisConn 接收 Redis 命令，使用 ANTLR4 解析器解析命令。
- 解析后的命令通过 JedisCmd 转发给底层的 Jedis 客户端执行。
- 执行结果通过标准的 ResultSet 或更新计数返回给用户。

### 依赖技术
- Jedis：Redis 官方推荐的 Java 客户端，版本 6.1.0。
- ANTLR4：强大的语法解析器生成工具，用于解析 Redis 命令。
- dbVisitor-driver：基础的数据库驱动框架。

## 使用方法

### 引入依赖

```xml title='Maven 依赖'
<dependency>
    <groupId>net.hasor</groupId>
    <artifactId>jdbc-redis</artifactId>
  <version>6.1.0</version>
</dependency>
```

### 连接配置

使用标准的 JDBC URL 格式连接 Redis：

```java
String url = "jdbc:dbvisitor:jedis://server:port?database=0&param1=value1&param2=value2";
Properties props = new Properties();
props.setProperty("username", "user");
props.setProperty("password", "pass");
Connection conn = DriverManager.getConnection(url, props);
```

主要的连接参数包括：
- server：Redis 服务地址，格式为 ip 或 ip:port，集群模式为 ip:port;ip:port。
- username/password：认证信息。
- database：默认数据库索引，默认为 0。
- connectTimeout：连接超时时间（毫秒），默认 5000。
- socketTimeout：套接字超时时间（秒），默认 10。

### 执行命令

```java
// 创建连接
Connection conn = DriverManager.getConnection("jdbc:dbvisitor:jedis://localhost:6379");

// 执行命令
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery("SET mykey hello");

// 处理结果
rs = stmt.executeQuery("GET mykey");
if (rs.next()) {
    System.out.println(rs.getString(1)); // 输出: hello
}

// 参数化查询
PreparedStatement pstmt = conn.prepareStatement("HSET ? ? ?");
pstmt.setString(1, "myhash");
pstmt.setString(2, "field1");
pstmt.setString(3, "value1");
ResultSet rs = pstmt.executeUpdate();
```

## 限制

- 在使用 DatabaseMetaData 接口时获取的属性不可信。
- 在使用 resultSetType、resultSetConcurrency、resultSetHoldability、fetchDirection 参数时只能选择如下默认值：
    - resultSetType = TYPE_FORWARD_ONLY
    - resultSetConcurrency = CONCUR_READ_ONLY
    - resultSetHoldability = HOLD_CURSORS_OVER_COMMIT
    - fetchDirection = FETCH_FORWARD
- 在使用 prepareStatement(String sql, int autoGeneratedKeys) 方法时
    - autoGeneratedKeys 参数只能设置为 NO_GENERATED_KEYS
- 在使用 ResultSet 时结果集时
    - 不支持如 ResultSet.update/insert/deleteXXX 系列方法。
- 在使用 Statement、PreparedStatement 接口时不支持如下参数的重载方法
    - xxx(String sql, int[] columnIndexes) 方法
    - xxx(String sql, String[] columnNames) 方法
- 不支持 的 JDBC 数据类型有
    - SQLXML、REF_CURSOR、RowId、Ref、Struct、DISTINCT
- 不支持 addBatch、clearBatch 批量化操作
- 不支持 savepoint 操作

## 驱动参数

``` title='JDBC URL 格式'
jdbc:dbvisitor:jedis://server?database=0&param1=value1&param2=value2
```

| 参数名            | 类型      | 默认值               | 参数说明                                                                                                    |
|----------------|---------|-------------------|---------------------------------------------------------------------------------------------------------|
| server         | string  |                   | redis 服务地址，如果没有指定端口号将会采用 `6379` 作为默认端口，格式为：`ip` 或 `ip:port`，集群模式为 `ip:port;ip:port` 或 `ip;ip;ip `       |
| username       | string  |                   | 用户名                                                                                                     |
| password       | string  |                   | 密码                                                                                                      |
| database       | int     | 0                 | 默认数据库                                                                                                   |
| connectTimeout | int     | 5000              | 连接超时时间（毫秒）                                                                                              |
| socketTimeout  | int     | 10                | 套接字超时时间（秒）                                                                                              |
| timeZone       | string  |                   | 驱动在处理时间类型时使用的本地时区。                                                                                      |
| clientName     | string  | Jedis-JDBC-Client | 客户端名称                                                                                                   |
| uncheckNumKeys | boolean | false             | 是否禁用检查键数量，默认值为 false。当设置为 true 时，驱动将不会检查执行的命令中对于 Keys 数量的要求。如 HEXPIRE、HTTL 的 numfields，ZMPOP 的 numkeys。 |
| separatorChar  | char    | '\n'              | 命令分隔符，默认值为 '\n'，可设置为（\n、“;”分号）驱动将根据该字符来分隔多个命令，如：`SET mykey hello; GET mykey`。                           |
| interceptor    | class   |                   | 命令拦截器，用于拦截 JedisCluster 或 Jedis 对象执行命令调用，需要实现 java.lang.reflect.InvocationHandler                       |
| customJedis    | class   |                   | 在驱动外自定义 JedisCluster 或 Jedis 对象的创建过程，需要实现 net.hasor.dbvisitor.adapter.redis.CustomJedis                 |
| maxTotal       | int     | 8                 | (集群) 池中“maxTotal”配置属性的值。                                                                                |
| maxIdle        | int     | 8                 | (集群) 池中“maxIdle”配置属性的值。                                                                                 |
| minIdle        | int     | 0                 | (集群) 池中“minIdle”配置属性的值。                                                                                 |
| testWhileIdle  | boolean | false             | (集群) 池中“testWhileIdle”配置属性的值。                                                                           |
| maxAttempts    | int     | 5                 | (集群) 执行命令的最大尝试次数。                                                                                       |

- 参数 uncheckNumKeys 将会影响的命令有：
  - HEXPIRE、HEXPIREAT、HEXPIRETIME、HPEXPIRE、HPEXPIREAT、HPEXPIRETIME、HPERSIST、HTTL、HPTTL
  - ZMPOP、BZMPOP、ZDIFF、ZDIFFSTORE、ZINTER、ZINTERCARD、ZINTERSTORE、ZUNION、ZUNIONSTORE
  - LMPOP、BLMPOP、SINTERCARD
- 参数 separatorChar 当设置为 “;” 分号时
  - 含有分号的内容需要用双引号进行处理，否则会导致脚本解析错误。

## 支持的命令列表

- 值：使用 executeUpdate / getUpdateCount 获取影响行数。
- 结果集：使用 executeQuery / getResultSet 获取结果集。

| 命令                                                                          | 返回值   | 行数       | 结果                                                                                |
|-----------------------------------------------------------------------------|-------|----------|-----------------------------------------------------------------------------------|
| Hash 命令集                                                                    |       |          |                                                                                   |
| [HDEL](https://redis.io/docs/latest/commands/hdel/)                         | 值     | --       | 从散列中删除的字段数，不包括指定但不存在的字段。如果key不存在，则将其作为空散列处理，此命令返回 0                               |
| [HEXISTS](https://redis.io/docs/latest/commands/hexists/)                   | 结果集   | 1        | RESULT 字段，BOOLEAN 类型                                                              |
| [HEXPIRE](https://redis.io/docs/latest/commands/hexpire/)                   | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [HEXPIREAT](https://redis.io/docs/latest/commands/hexpireat/)               | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [HEXPIRETIME](https://redis.io/docs/latest/commands/hexpiretime/)           | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [HPEXPIRE](https://redis.io/docs/latest/commands/hpexpire/)                 | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [HPEXPIREAT](https://redis.io/docs/latest/commands/hpexpireat/)             | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [HPEXPIRETIME](https://redis.io/docs/latest/commands/hpexpiretime/)         | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [HGET](https://redis.io/docs/latest/commands/hget/)                         | 结果集   | 1        | VALUE 字段，STRING 类型                                                                |
| [HGETALL](https://redis.io/docs/latest/commands/hgetall/)                   | 结果集   | multiple | FIELD 字段，STRING 类型<br/>VALUE 字段，STRING 类型                                         |
| [HINCRBY](https://redis.io/docs/latest/commands/hincrby/)                   | 结果集   | 1        | VALUE 字段，LONG 类型                                                                  |
| [HKEYS](https://redis.io/docs/latest/commands/hkeys/)                       | 结果集   | multiple | FIELD 字段，STRING 类型                                                                |
| [HLEN](https://redis.io/docs/latest/commands/hlen/)                         | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [HMGET](https://redis.io/docs/latest/commands/hmget/)                       | 结果集   | multiple | VALUE 字段，STRING 类型                                                                |
| [HSET](https://redis.io/docs/latest/commands/hset/)                         | 值     | --       | 添加的字段数量。                                                                          |
| [HMSET](https://redis.io/docs/latest/commands/hmset/)                       | 值     | --       | 添加的字段数量。                                                                          |
| [HSETNX](https://redis.io/docs/latest/commands/hsetnx/)                     | 值     | --       | 如果该字段已存在，则返回 0；否则，如果创建了一个新字段，则返回 1。                                               |
| [HPERSIST](https://redis.io/docs/latest/commands/hpersist/)                 | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [HTTL](https://redis.io/docs/latest/commands/httl/)                         | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [HPTTL](https://redis.io/docs/latest/commands/hpttl/)                       | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [HRANDFIELD](https://redis.io/docs/latest/commands/hrandfield/)             | 结果集   | multiple | FIELD 字段，STRING 类型<br/>VALUE 字段，STRING 类型（当使用 WITHVALUES 时）                       |
| [HSCAN](https://redis.io/docs/latest/commands/hscan/)                       | 结果集   | multiple | CURSOR 字段，STRING 类型<br/>FIELD 字段，STRING 类型<br/>VALUE 字段，STRING 类型（不使用 NOVALUES 时） |
| [HSTRLEN](https://redis.io/docs/latest/commands/hstrlen/)                   | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [HVALS](https://redis.io/docs/latest/commands/hvals/)                       | 结果集   | multiple | VALUE 字段，STRING 类型                                                                |
| Keys 命令集                                                                    |       |          |                                                                                   |
| [COPY](https://redis.io/docs/latest/commands/COPY/)                         | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [DEL](https://redis.io/docs/latest/commands/del/)                           | 值     | --       | 如果移除一个或多个键，则为大于0的整数；如果指定的键都不存在，则为 0                                               |
| [UNLINK](https://redis.io/docs/latest/commands/unlink/)                     | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [DUMP](https://redis.io/docs/latest/commands/dump/)                         | 结果集   | 1        | VALUE 字段，BYTES 类型                                                                 |
| [EXISTS](https://redis.io/docs/latest/commands/exists/)                     | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [EXPIRE](https://redis.io/docs/latest/commands/expire/)                     | 值     | --       | 如果设置了超时时间，则为 1；否则为 0。                                                             |
| [EXPIREAT](https://redis.io/docs/latest/commands/expireat/)                 | 值     | --       | 如果设置了超时时间，则为 1；否则为 0。                                                             |
| [EXPIRETIME](https://redis.io/docs/latest/commands/expiretime/)             | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [PEXPIRE](https://redis.io/docs/latest/commands/pexpire/)                   | 值     | --       | 如果设置了超时时间，则为 1；否则为 0。                                                             |
| [PEXPIREAT](https://redis.io/docs/latest/commands/pexpireat/)               | 值     | --       | 如果设置了超时时间，则为 1；否则为 0。                                                             |
| [PEXPIRETIME](https://redis.io/docs/latest/commands/pexpiretime/)           | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [KEYS](https://redis.io/docs/latest/commands/keys/)                         | 结果集   | multiple | KEY 字段，STRING 类型（提示：驱动会使用 scan 命令替代 keys 命令的调用）                                   |
| [OBJECT ENCODING](https://redis.io/docs/latest/commands/object-encoding/)   | 结果集   | 1        | RESULT 字段，STRING 类型                                                               |
| [OBJECT FREQ](https://redis.io/docs/latest/commands/object-freq/)           | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [OBJECT IDLETIME](https://redis.io/docs/latest/commands/object-idletime/)   | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [OBJECT REFCOUNT](https://redis.io/docs/latest/commands/object-refcount/)   | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [PERSIST](https://redis.io/docs/latest/commands/persist/)                   | 值     | --       | 如果该键当前已生效则为 1，否则为 0（仅在该键未设置的情况下出现）                                                |
| [TTL](https://redis.io/docs/latest/commands/ttl/)                           | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [PTTL](https://redis.io/docs/latest/commands/pttl/)                         | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [RANDOMKEY](https://redis.io/docs/latest/commands/randomkey/)               | 结果集   | 1        | KEY 字段，STRING 类型                                                                  |
| [RENAME](https://redis.io/docs/latest/commands/rename/)                     | 值     | --       | 1 表示键已重命名，0 表示目标键已存在.（使用 OK 状态码判断）                                                |
| [RENAMENX](https://redis.io/docs/latest/commands/renamenx/)                 | 值     | --       | 1 表示键已重命名，0 表示目标键已存在.                                                             |
| [SCAN](https://redis.io/docs/latest/commands/scan/)                         | 结果集   | multiple | CURSOR 字段，STRING 类型<br/>KEY 字段，STRING 类型                                          |
| [TOUCH](https://redis.io/docs/latest/commands/touch/)                       | 值     | --       | 被 TOUCH 的键的数量。                                                                    |
| [TYPE](https://redis.io/docs/latest/commands/type/)                         | 结果集   | 1        | RESULT 字段，STRING 类型                                                               |
| List 命令集                                                                    |       |          |                                                                                   |
| [LMOVE](https://redis.io/docs/latest/commands/lmove/)                       | 结果集   | 1        | ELEMENT 字段，STRING 类型                                                              |
| [BLMOVE](https://redis.io/docs/latest/commands/blmove/)                     | 结果集   | 1        | ELEMENT 字段，STRING 类型                                                              |
| [LMPOP](https://redis.io/docs/latest/commands/lmpop/)                       | 结果集   | multiple | KEY 字段，STRING 类型，返回 Key,ValueList 结构中的 Key<br/>ELEMENT 字段，STRING 类型               |
| [BLMPOP](https://redis.io/docs/latest/commands/blmpop/)                     | 结果集   | multiple | KEY 字段，STRING 类型，返回 Key,ValueList 结构中的 Key<br/>ELEMENT 字段，STRING 类型               |
| [LPOP](https://redis.io/docs/latest/commands/lpop/)                         | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [RPOP](https://redis.io/docs/latest/commands/rpop/)                         | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [BLPOP](https://redis.io/docs/latest/commands/blpop/)                       | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [BRPOP](https://redis.io/docs/latest/commands/brpop/)                       | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [RPOPLPUSH](https://redis.io/docs/latest/commands/rpoplpush/)               | 结果集   | 1        | ELEMENT 字段，STRING 类型                                                              |
| [BRPOPLPUSH](https://redis.io/docs/latest/commands/brpoplpush/)             | 结果集   | 1        | ELEMENT 字段，STRING 类型                                                              |
| [LINDEX](https://redis.io/docs/latest/commands/lindex/)                     | 结果集   | 1        | ELEMENT 字段，STRING 类型                                                              |
| [LINSERT](https://redis.io/docs/latest/commands/linsert/)                   | 值     | --       | 插入操作后列表的长度，当 key 不存在时返回 0;当未找到 pivot 时返回 -1。                                      |
| [LLEN](https://redis.io/docs/latest/commands/llen/)                         | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [LPOS](https://redis.io/docs/latest/commands/lpos/)                         | 结果集   | multiple | RESULT 字段，LONG 类型                                                                 |
| [LPUSH](https://redis.io/docs/latest/commands/lpush/)                       | 值     | --       | PUSH 操作后列表的长度。                                                                    |
| [LPUSHX](https://redis.io/docs/latest/commands/lpushx/)                     | 值     | --       | PUSH 操作后列表的长度。                                                                    |
| [RPUSH](https://redis.io/docs/latest/commands/rpush/)                       | 值     | --       | PUSH 操作后列表的长度。                                                                    |
| [RPUSHX](https://redis.io/docs/latest/commands/rpushx/)                     | 值     | --       | PUSH 操作后列表的长度。                                                                    |
| [LRANGE](https://redis.io/docs/latest/commands/lrange/)                     | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [LREM](https://redis.io/docs/latest/commands/lrem/)                         | 值     | --       | 移除的元素数量。                                                                          |
| [LSET](https://redis.io/docs/latest/commands/lset/)                         | 值     | --       | 操作是否成功，成功返回 1 否则返回 0，当状态为 “OK” 时表示成功                                              |
| [LTRIM](https://redis.io/docs/latest/commands/ltrim/)                       | 值     | --       | 操作是否成功，成功返回 1 否则返回 0，当状态为 “OK” 时表示成功                                              |
| Server 命令集                                                                  |       |          |                                                                                   |
| [MOVE](https://redis.io/docs/latest/commands/move/)                         | 值     | --       | 如果 key 被移动，则为 1；未被移动则为 0                                                          |
| [WAIT](https://redis.io/docs/latest/commands/wait/)                         | 结果集   | 1        | REPLICAS 字段，LONG 类型                                                               |
| [WAITAOF](https://redis.io/docs/latest/commands/waitaof/)                   | 结果集   | 1        | LOCAL 字段，LONG 类型<br/>REPLICAS 字段，LONG 类型                                          |
| [PING](https://redis.io/docs/latest/commands/ping/)                         | 结果集   | 1        | RESULT 字段，STRING 类型                                                               |
| [ECHO](https://redis.io/docs/latest/commands/echo/)                         | 结果集   | 1        | RESULT 字段，STRING 类型                                                               |
| [SELECT](https://redis.io/docs/latest/commands/select/)                     | 值     | --       | 操作成功返回 1，否则抛出异常                                                                   |
| Set 命令集                                                                     |       |          |                                                                                   |
| [SADD](https://redis.io/docs/latest/commands/sadd/)                         | 值     | --       | 添加到集合中的元素数量，不包括集合中已有的元素。                                                          |
| [SCARD](https://redis.io/docs/latest/commands/scard/)                       | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [SDIFF](https://redis.io/docs/latest/commands/sdiff/)                       | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [SDIFFSTORE](https://redis.io/docs/latest/commands/sdiffstore/)             | 值     | --       | 结果集合中的元素数量。                                                                       |
| [SINTER](https://redis.io/docs/latest/commands/sinter/)                     | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [SINTERCARD](https://redis.io/docs/latest/commands/sintercard/)             | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [SINTERSTORE](https://redis.io/docs/latest/commands/sinterstore/)           | 值     | --       | 结果集合中的元素数量。                                                                       |
| [SISMEMBER](https://redis.io/docs/latest/commands/sismember/)               | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [SMISMEMBER](https://redis.io/docs/latest/commands/smismember/)             | 结果集   | multiple | RESULT 字段，BOOLEAN 类型                                                              |
| [SMEMBERS](https://redis.io/docs/latest/commands/smembers/)                 | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [SMOVE](https://redis.io/docs/latest/commands/smove/)                       | 值     | --       | 如果元素被移动，则为 1；未被移动则为 0                                                             |
| [SPOP](https://redis.io/docs/latest/commands/spop/)                         | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [SRANDMEMBER](https://redis.io/docs/latest/commands/srandmember/)           | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [SREM](https://redis.io/docs/latest/commands/srem/)                         | 值     | --       | 从集合中移除的成员数量，不包括不存在的成员。                                                            |
| [SSCAN](https://redis.io/docs/latest/commands/sscan/)                       | 结果集   | multiple | CURSOR 字段，STRING 类型<br/>ELEMENT 字段，STRING 类型                                      |
| [SUNION](https://redis.io/docs/latest/commands/sunion/)                     | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [SUNIONSTORE](https://redis.io/docs/latest/commands/sunionstore/)           | 值     | --       | 结果集合中的元素数量。                                                                       |
| StoreSet 命令集                                                                |       |          |                                                                                   |
| [ZMPOP](https://redis.io/docs/latest/commands/zmpop/)                       | 结果集   | multiple | KEY 字段，STRING 类型                                                                  |
| [BZMPOP](https://redis.io/docs/latest/commands/bzmpop/)                     | 结果集   | multiple | KEY 字段，STRING 类型                                                                  |
| [ZPOPMAX](https://redis.io/docs/latest/commands/zpopmax/)                   | 结果集   | multiple | SCORE 字段，DOUBLE 类型<br/>ELEMENT 字段，STRING 类型                                       |
| [BZPOPMAX](https://redis.io/docs/latest/commands/bzpopmax/)                 | 结果集   | 1        | KEY 字段，STRING 类型<br/>SCORE 字段，DOUBLE 类型<br/>ELEMENT 字段，STRING 类型                  |
| [ZPOPMIN](https://redis.io/docs/latest/commands/zpopmin/)                   | 结果集   | multiple | SCORE 字段，DOUBLE 类型<br/>ELEMENT 字段，STRING 类型                                       |
| [BZPOPMIN](https://redis.io/docs/latest/commands/bzpopmin/)                 | 结果集   | 1        | KEY 字段，STRING 类型<br/>SCORE 字段，DOUBLE 类型<br/>ELEMENT 字段，STRING 类型                  |
| [ZADD](https://redis.io/docs/latest/commands/zadd/)                         | 结果集   | 1        | RESULT 字段，DOUBLE 类型（当使用 INCR 时）<br/>RESULT 字段，LONG 类型（当不使用 INCR 时）                |
| [ZCARD](https://redis.io/docs/latest/commands/zcard/)                       | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [ZCOUNT](https://redis.io/docs/latest/commands/zcount/)                     | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [ZDIFF](https://redis.io/docs/latest/commands/zdiff/)                       | 结果集   | multiple | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/>ELEMENT 字段，STRING 类型                     |
| [ZDIFFSTORE](https://redis.io/docs/latest/commands/zdiffstore/)             | 值     | --       | 结果有序集合中的元素数量。                                                                     |
| [ZINCRBY](https://redis.io/docs/latest/commands/zincrby/)                   | 结果集   | 1        | SCORE 字段，DOUBLE 类型                                                                |
| [ZINTER](https://redis.io/docs/latest/commands/zinter/)                     | 结果集   | multiple | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/>ELEMENT 字段，STRING 类型                     |
| [ZINTERCARD](https://redis.io/docs/latest/commands/zintercard/)             | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [ZINTERSTORE](https://redis.io/docs/latest/commands/zinterstore/)           | 值     | --       | 结果有序集合中的元素数量。                                                                     |
| [ZLEXCOUNT](https://redis.io/docs/latest/commands/zlexcount/)               | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [ZSCORE](https://redis.io/docs/latest/commands/zscore/)                     | 结果集   | 1        | SCORE 字段，DOUBLE 类型                                                                |
| [ZMSCORE](https://redis.io/docs/latest/commands/zmscore/)                   | 结果集   | multiple | SCORE 字段，DOUBLE 类型                                                                |
| [ZRANDMEMBER](https://redis.io/docs/latest/commands/zrandmember/)           | 结果集   | multiple | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/>ELEMENT 字段，STRING 类型                     |
| [ZRANGE](https://redis.io/docs/latest/commands/zrange/)                     | 结果集   | multiple | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/>ELEMENT 字段，STRING 类型                     |
| [ZRANGEBYLEX](https://redis.io/docs/latest/commands/zrangebylex/)           | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [ZRANGEBYSCORE](https://redis.io/docs/latest/commands/zrangebyscore/)       | 结果集   | multiple | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/>ELEMENT 字段，STRING 类型                     |
| [ZRANGESTORE](https://redis.io/docs/latest/commands/zrangestore/)           | 值     | --       | 结果有序集合中的元素数量。                                                                     |
| [ZRANK](https://redis.io/docs/latest/commands/zrank/)                       | 结果集   | 1        | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/> RANK 字段，LONG 类型                         |
| [ZREVRANK](https://redis.io/docs/latest/commands/zrevrank/)                 | 结果集   | 1        | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/> RANK 字段，LONG 类型                         |
| [ZREM](https://redis.io/docs/latest/commands/zrem/)                         | 值     | --       | 从有序集合中移除的成员数量，不包括不存在的成员。                                                          |
| [ZREMRANGEBYLEX](https://redis.io/docs/latest/commands/zremrangebylex/)     | 值     | --       | 从有序集合中移除的成员数量，不包括不存在的成员。                                                          |
| [ZREMRANGEBYRANK](https://redis.io/docs/latest/commands/zremrangebyrank/)   | 值     | --       | 从有序集合中移除的成员数量，不包括不存在的成员。                                                          |
| [ZREMRANGEBYSCORE](https://redis.io/docs/latest/commands/zremrangebyscore/) | 值     | --       | 从有序集合中移除的成员数量，不包括不存在的成员。                                                          |
| [ZREVRANGE](https://redis.io/docs/latest/commands/zrevrange/)               | 结果集   | multiple | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/>ELEMENT 字段，STRING 类型                     |
| [ZREVRANGEBYLEX](https://redis.io/docs/latest/commands/zrevrangebylex/)     | 结果集   | multiple | ELEMENT 字段，STRING 类型                                                              |
| [ZREVRANGEBYSCORE](https://redis.io/docs/latest/commands/zrevrangebyscore/) | 结果集   | multiple | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/>ELEMENT 字段，STRING 类型                     |
| [ZSCAN](https://redis.io/docs/latest/commands/zscan/)                       | 结果集   | multiple | CURSOR 字段，STRING 类型<br/>SCORE 字段，DOUBLE 类型<br/>ELEMENT 字段，STRING 类型               |
| [ZUNION](https://redis.io/docs/latest/commands/zunion/)                     | 结果集   | multiple | SCORE 字段，DOUBLE 类型（当使用 WITHSCORES 时）<br/>ELEMENT 字段，STRING 类型                     |
| [ZUNIONSTORE](https://redis.io/docs/latest/commands/zunionstore/)           | 值     | --       | 结果有序集合中的元素数量。                                                                     |
| String 命令集                                                                  |       |          |                                                                                   |
| [SET](https://redis.io/docs/latest/commands/set/)                           | 值/结果集 | --/1     | 值：当不使用 GET 时，返回 0（表示没有设置） 或 1（表示设置成功）<br/>结果集：当使用 GET 时，VALUE 字段，STRING 类型        |
| [GET](https://redis.io/docs/latest/commands/get/)                           | 结果集   | 1        | VALUE 字段，STRING 类型                                                                |
| [INCR](https://redis.io/docs/latest/commands/incr/)                         | 结果集   | 1        | VALUE 字段，LONG 类型                                                                  |
| [INCRBY](https://redis.io/docs/latest/commands/incrby/)                     | 结果集   | 1        | VALUE 字段，LONG 类型                                                                  |
| [DECR](https://redis.io/docs/latest/commands/decr/)                         | 结果集   | 1        | VALUE 字段，LONG 类型                                                                  |
| [DECRBY](https://redis.io/docs/latest/commands/decrby/)                     | 结果集   | 1        | VALUE 字段，LONG 类型                                                                  |
| [APPEND](https://redis.io/docs/latest/commands/append/)                     | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [GETDEL](https://redis.io/docs/latest/commands/getdel/)                     | 结果集   | 1        | VALUE 字段，STRING 类型                                                                |
| [GETEX](https://redis.io/docs/latest/commands/getex/)                       | 结果集   | 1        | VALUE 字段，STRING 类型                                                                |
| [GETRANGE](https://redis.io/docs/latest/commands/getrange/)                 | 结果集   | 1        | VALUE 字段，STRING 类型                                                                |
| [GETSET](https://redis.io/docs/latest/commands/getset/)                     | 结果集   | 1        | VALUE 字段，STRING 类型                                                                |
| [MGET](https://redis.io/docs/latest/commands/mget/)                         | 结果集   | multiple | VALUE 字段，STRING 类型                                                                |
| [MSET](https://redis.io/docs/latest/commands/mset/)                         | 结果集   | 1        | RESULT 字段，STRING 类型                                                               |
| [MSETNX](https://redis.io/docs/latest/commands/msetnx/)                     | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [PSETEX](https://redis.io/docs/latest/commands/psetex/)                     | 结果集   | 1        | RESULT 字段，STRING 类型                                                               |
| [SETEX](https://redis.io/docs/latest/commands/setex/)                       | 结果集   | 1        | RESULT 字段，STRING 类型                                                               |
| [SETNX](https://redis.io/docs/latest/commands/setnx/)                       | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [SETRANGE](https://redis.io/docs/latest/commands/setrange/)                 | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [STRLEN](https://redis.io/docs/latest/commands/strlen/)                     | 结果集   | 1        | RESULT 字段，LONG 类型                                                                 |
| [SUBSTR](https://redis.io/docs/latest/commands/substr/)                     | 结果集   | 1        | VALUE 字段，STRING 类型                                                                |
